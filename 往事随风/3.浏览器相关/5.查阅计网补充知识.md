## 谈谈TCP和UDP
需要了解的知识：
TCP 头部很大，具体有哪些报文信息呢？   
TCP ？ UDP ？ 区别是什么    
DNS 解析 能详细说说嘛？ DNS 递归和迭代的区别呢？


### TCP/IP模型和OSI模型
也叫五层和七层模型
7. 应用层       |
6. 表示层       |  应用层
5. 会话层       |_    
4. 传输层       |_ 传输层
3. 网络层       |_ 网际层 
2. 数据链路层    |  网络接口层        |   数据链路层
1. 物理层       |   （包含物理网络）  |   物理层     ------> 构成五层模型


#### 传输层的协议  UDP和TCP
传输层： 提供应用程序（端到端）之间的逻辑通信， 网络层是主机到主机之间的逻辑通信    
分用复用： 复用是指发送方不同的应用进程都可以使用同一个传输层协议传输数据，分用是指接受方的传输层在剥去报文的首部后能够把这些数据正确交付到目的的应用进程。（简单的说发送方同一传输层协议，接收方分发到不同的目的进程）
套接字：（主机地址，端口号）  唯一的标识一台主机上的一个进程   
##### UDP
UDP特点： 无状态连接、不可靠、首部开销小、面向报文：应用层给的报文添加首部后就交给IP层。IP给应用层也是类似，报文是处理最小单位
能更好的控制发送数据和时间，适用于那些实时的多媒体应用，比如实时视频会议、网络电话       
UDP头部：  8字节
    1. 源端口
    2. 目的端口号
    3. 长度
    4. 校验和   （反码求和再求反）
##### TCP
- 特点： 可靠（无差错、不丢失、不重复且有序）、面向链接、全双工、面向字节流（处理的最小单位是字节流，一次一个数据块）
TCP首部： 20B的固定首部 
1. 源端口和目的端口字段
2. 序号
3. 确认号
4. 数据偏移
5. 保留字段
6. 紧急位URG
7. 确认位ACK
8. 推送位PSH
9. 复位位RST
10. 同步位SYN
11. 终止位FIN
12. 窗口字段
13. 校验和
14. 紧急指针字段
15. 选项字段  //补充
16. 填充字段  //补充
序号、确认号，窗口字段都是为了保证TCP传输的可靠（无差错、不丢失、不重复且有效）   

##### 关于慢开始，拥塞避免、快恢复、快重传   
慢开始：拥塞窗口从1指数增长，到慢开始门限的时候开始加法增长  
拥塞避免： 当到慢开始门限时，就开始加法增长。当发生拥塞时就把慢开始门限减半   
快恢复： 拥塞后，直接从减半的那个门限 开始加法增长    
快重传： 当接受到三个重复的冗余ACK时就立即对ACK+1报文执行重传   

##### TCP链接的建立
1. 浏览器向服务器发送链接请求报文段。SYN位设为1，起始序号seq=x
2. 如果服务器同意建立链接，向浏览器返回确认报文，SYN=1，ACK=1，seq=y,ack=x+1
3. 当浏览器收到服务器确认报文后，还要向服务器给出确认，ACK=1,seq=x+1,ack=y+1


##### TCP链接的断开
1. 浏览器打算关闭链接时，向服务器发送一条释放链接请求。
2. 服务器收到链接释放请求后立即发出确认
3. 服务器发送一条释放回应，
4. 客户机收到链接释放请求后，要发出确认。


### DNS
域名系统Domin Name System

#### 层次域名空间   
www.cskaoyan.com    
三级域名  二级域名  顶级域名    

#### 域名服务器
根域名器：  只要自己无法解析，就要求助根域名服务器。其负责指出，找那个顶级域名服务器    
授权域名服务器：  主机名转化为IP地址
本地域名服务器：  类似于代理服务器，出入口都要靠他
 
#### 域名解析过程
域名解析：  把域名映射成IP地址或IP地址映射成域名的过程，称为正向解析    
递归查询：  对根域名服务器造成的负载过大，根服务器帮主机进行下一步的查询而不是告知主机让主机自己去查询。      
递归迭代查询：  主要工作交给本地域名服务器，主机向本地域名服务器查询采用的时递归查询，本地域名服务器的查询是迭代的方式，迭代的一个个问，从根域名服务到顶级域名服务器再到授权域名服务器

